var DATA_INTERVAL = 1000 / 60;

var w = 2;
var h = 1;

var h1 = 12;
var h2 = h1;
var z = 18;

var DATA_ORIGIN_X = 800 / 2 - Math.sqrt(h1 * h1 * 2);
var DATA_ORIGIN_Y = 600 / 5;

var DATA_ZOOM_MIN = 0.1;
var DATA_ZOOM_MAX = 3;

var DATA_MINIMAP_WIDTH = 200;
var DATA_MINIMAP_HEIGHT = 200;

var DATA_MAP = {
	river01: [
		[ [3,3,3,3,3,4],	[3,3,3,1],		[3,3,3,1], 	[3,3,3,1],	[3,3,3,3,5], 	[3,3,4,4], 					[3,3,4,6,0,0,0,8,8,8], 	[3,3,4,6], 					[3,3,4,4], 	],
		[ [3,3,3,3,3,4],	[3,3,3,1,0,0,0,0,8,8,8,8], 		[3,3,3,1], 	[3,3,3,1], 	[3,3,3,3,5], 	[3,3,4,4,0,0,0,8,8,8], 	[3,3,4,4,7,7,7,8,8,8,8], [3,3,4,6,0,0,0,8,8,8], 	[3,3,4,4], 	],
		[ [3,3,3,3,3,4,0,0,8,8,8,8],	[3,3,3,4,4,7,7,7,7,8,8,8,8], 		[3,3,3,1,0,0,0,0,8,8,8,8], 	[3,3,3,1], 	[3,3,3,3,5], 	[3,3,4,4], 					[3,3,4,4,0,0,0,8,8,8], 	[3,3,4,6], 					[3,3,4,4], 	],
		[ [3,3,3,3,3,4],	[3,3,3,1,0,0,0,0,8,8,8,8], 		[3,3,3,1], 	[3,3,3,1], 	[3,3,3,3,5], 	[3,3,4,4,5], 				[3,3,4,4], 					[3,3,6],						[3,3,4] 		],
		[ [3,3,3,3,3,4],	[3,3,3,1], 		[3,3,3,1], 	[3,3,3,1], 	[3,3,3,1],		[3,3,4,4,5], 				[3,3,4,4], 					[3,3,6], 						[3,3,6] 		],
		[ [3,3,3,3,3,4],	[3,3,3,3,3], 	[3,3,3,1], 	[3,3,3,1], 	[3,3,1], 			[3,3,4,4], 					[3,3,4], 						[3,3], 						[3,6] 		],
		[ [3,3,3,3,3,4],	[3,3,3,3,3], 	[3,3,3,1], 	[3,3,3,1], 	[3,3,1], 			[3,3,4,4], 					[3,3], 						[3,6], 						[3,6] 		],
		[ [3,3,3,3,3,4,9],	[3,3,3,3,3], 	[3,3,3,1], 	[3,3,1],		[3,3,1], 			[3,3,4], 						[3,3], 						[3,6], 						[3,3] 		],
		[ [3,3,3,3,3,4,9],	[3,3,3,3,3,9],		[2,2,2,1], 	[2,2,1], 		[2,2,1], 			[3,3,4], 						[3,3,4], 						[3,6], 						[3] 		]
	],
	castle01: [
		[[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,9,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,9,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,0,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,3,9,9,9,0,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,9],[3,3,3,3,3,6,0,0,0,0,0,0,0,9,9,9],[3,3,3,3,3,6,0,0,0,0,0,0,0,9,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,3,3,3,3,3,9,9,9,0,9,9],[3,3,3,3,3,3,9,9,9,9,9,9,9],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0,10],[3,1,1,0,0,0,10],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0,10],[3,1,1,0,0,0,10],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0,10],[3,1,1,0,0,0,10],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,1,1,0,0,0],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3,10],[3,3,3,3,3,3,10],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,6],[3,3,3,3,3,6],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3],[3,3,3,3,3,3]],
		[[3,3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,6],[3,3,3,3,6],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3],[3,3,3,3,3,3]]
	],
	test01: [
	
	]
};

var DATA_COLORS = [
	[], //0 nothing
	['#64E8F9', '#32B6C8', '#0F8594'], //1 water
	['#64B0FB', '#327DC8', '#0F5294'], //2 deep water
	['#44E146', '#0E8D10', '#004D01'], //3 grass
	['#36B338', '#0D800F', '#004D01'], //4 long grass
	['#2A8D2C', '#1F6620', '#134014'], //5 very long grass
	['#D2AC65', '#886D3A', '#523E18'], //6 ground
	['#C0A94F', '#806D28', '#40350D'], //7 tree trunc
	['#83E144', '#5BAE23', '#397B0C'], //8 tree leaves
	['#C6C6C6', '#948D94', '#484148'], //9 rock
	['#C0A94F', '#806D28', '#40350D'], //10 wood
	['#eee', '#aaa', '#666'] //11 map base
]

DATA_KEYBOARD = {
	A : 65,
	B : 66,
	C : 67,
	D : 68,
	E : 69,
	F : 70,
	G : 71,
	H : 72,
	I : 73,
	J : 74,
	K : 75,
	L : 76,
	M : 77,
	N : 78,
	O : 79,
	P : 80,
	Q : 81,
	R : 82,
	S : 83,
	T : 84,
	U : 85,
	V : 86,
	W : 87,
	X : 88,
	Y : 89,
	Z : 90,
	
	a : 97,
	b : 98,
	c : 99,
	d : 100,
	e : 101,
	f : 102,
	g : 103,
	h : 104,
	i : 105,
	j : 106,
	k : 107,
	l : 108,
	m : 109,
	n : 110,
	o : 111,
	p : 112,
	q : 113,
	r : 114,
	s : 115,
	t : 116,
	u : 117,
	v : 118,
	w : 119,
	x : 120,
	y : 121,
	z : 122,
	
	SPACE : 32,
	ENTER : 13,
	DELETE : 8,
	ESCAPE : 27,
	PN0 : 96,
	PN1 : 97,
	PN2 : 98,
	PN3 : 99,
	PN4 : 100,
	PN5 : 101,
	PN6 : 102,
	PN7 : 103,
	PN8 : 104,
	PN9 : 105,
	UP : 38,
	DOWN : 40,
	LEFT : 37,
	RIGHT : 39,
	SHIFT : 16
	
},

DATA_COMMANDS = {
	FILL : DATA_KEYBOARD.f,
	UP : DATA_KEYBOARD.UP,
	DOWN : DATA_KEYBOARD.DOWN,
	LEFT : DATA_KEYBOARD.LEFT,
	RIGHT : DATA_KEYBOARD.RIGHT
}

/**

TO-DO:

# Gérer différentes couches
	> Créer un éditeur de cartes avec lequel les layers seraient générées à la volée, 
	   ce qui permettra de se passer des couches prédéfinies et donc de gérer simplement
	   le système de couches.
	   Cependant, je ne suis pas sûr que cela permettrait de gérer efficacement les collisions 
	   si ce système venait à être utilisé pour faire un jeu.
	> Pouvoir gérer la taille des rectangle afin de ne pas toujours faire des rectangles de la
	   même taille.
	   Exemple : si je veux faire une fleur, elle devra évidemment être plus petite que le rectangle
	   de terrain sur laquelle elle est.
	   Cela permettra de faire des arrbres plus jolis :
	   Au lieu d'avoir une coupe comme celle-ci :
	             ###
		  ### ### ###
		  ### ### ###
		  ### ### ###
		         ###
		On aurait :
	          # ### #
		    ## ### ##
		  ### ### ###
		    ## ### ##
		      # ### #
		

**/